{
  "openapi": "3.0.0",
  "info": {
    "title": "RecycleShare API",
    "description": "ðŸŒ¿ Mahalle AtÄ±k PaylaÅŸÄ±m & Geri DÃ¶nÃ¼ÅŸÃ¼m Takas Platformu API'si\n\n## Ã–dev Gereksinimleri\n- âœ… En az 4 tablo (5 tablo mevcut)\n- âœ… Her tabloda en az 10 kayÄ±t\n- âœ… Primary key ve foreign key kÄ±sÄ±tlarÄ±\n- âœ… Silme kÄ±sÄ±tÄ± (ON DELETE CASCADE/RESTRICT)\n- âœ… SayÄ± kÄ±sÄ±tÄ± (CHECK constraint)\n- âœ… VIEW tanÄ±mÄ± (3 adet)\n- âœ… INDEX tanÄ±mÄ± (9 adet)\n- âœ… SEQUENCE tanÄ±mÄ±\n- âœ… 3 SQL fonksiyonu (biri RECORD ve CURSOR ile)\n- âœ… 2 TRIGGER\n- âœ… UNION/EXCEPT sorgularÄ±\n- âœ… Aggregate fonksiyonlar ve HAVING\n- âœ… 2 farklÄ± kullanÄ±cÄ± rolÃ¼ (admin, user)",
    "version": "2.0.0",
    "contact": {
      "name": "RecycleShare Team"
    }
  },
  "servers": [
    {
      "url": "https://recycleshare.onrender.com/api",
      "description": "Production Server"
    },
    {
      "url": "http://localhost:5001/api",
      "description": "Local Development"
    }
  ],
  "tags": [
    { "name": "Auth", "description": "Kimlik doÄŸrulama (Login, Register, OTP)" },
    { "name": "Waste", "description": "AtÄ±k yÃ¶netimi (CRUD + VIEW + INDEX)" },
    { "name": "Reservations", "description": "Rezervasyon yÃ¶netimi (TRIGGER + SEQUENCE)" },
    { "name": "Reports", "description": "Raporlar (FUNCTION + AGGREGATE + UNION/EXCEPT)" },
    { "name": "Admin", "description": "Admin iÅŸlemleri (Sadece admin rolÃ¼)" }
  ],
  "components": {
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    },
    "schemas": {
      "User": {
        "type": "object",
        "properties": {
          "user_id": { "type": "integer" },
          "first_name": { "type": "string" },
          "last_name": { "type": "string" },
          "email": { "type": "string" },
          "phone": { "type": "string" },
          "role": { "type": "string", "enum": ["admin", "user"] },
          "city": { "type": "string" },
          "district": { "type": "string" },
          "neighborhood": { "type": "string" },
          "is_verified": { "type": "boolean" },
          "is_active": { "type": "boolean" },
          "created_at": { "type": "string", "format": "date-time" }
        }
      },
      "Waste": {
        "type": "object",
        "properties": {
          "waste_id": { "type": "integer" },
          "user_id": { "type": "integer" },
          "type_id": { "type": "integer" },
          "amount": { "type": "number" },
          "description": { "type": "string" },
          "status": { "type": "string", "enum": ["waiting", "reserved", "collected", "cancelled"] },
          "record_date": { "type": "string", "format": "date-time" }
        }
      },
      "WasteType": {
        "type": "object",
        "properties": {
          "type_id": { "type": "integer" },
          "type_name": { "type": "string" },
          "official_unit": { "type": "string" },
          "recycle_score": { "type": "integer", "minimum": 0, "maximum": 100 }
        }
      },
      "Reservation": {
        "type": "object",
        "properties": {
          "reservation_id": { "type": "integer" },
          "waste_id": { "type": "integer" },
          "collector_id": { "type": "integer" },
          "pickup_datetime": { "type": "string", "format": "date-time" },
          "status": { "type": "string", "enum": ["waiting", "reserved", "collected", "cancelled"] },
          "created_at": { "type": "string", "format": "date-time" }
        }
      },
      "Error": {
        "type": "object",
        "properties": {
          "success": { "type": "boolean", "example": false },
          "message": { "type": "string" },
          "error": { "type": "string" }
        }
      }
    }
  },
  "paths": {
    "/auth/register": {
      "post": {
        "tags": ["Auth"],
        "summary": "KayÄ±t ol",
        "description": "Yeni kullanÄ±cÄ± kaydÄ± oluÅŸturur. OTP doÄŸrulamasÄ± gerektirir.",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["firstName", "lastName", "email", "phone", "password"],
                "properties": {
                  "firstName": { "type": "string", "example": "Ahmet" },
                  "lastName": { "type": "string", "example": "YÄ±lmaz" },
                  "email": { "type": "string", "example": "ahmet@test.com" },
                  "phone": { "type": "string", "example": "+905551234567" },
                  "password": { "type": "string", "example": "Test1234" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "KayÄ±t baÅŸarÄ±lÄ±, OTP gÃ¶nderildi" },
          "400": { "description": "Validasyon hatasÄ±" },
          "409": { "description": "Email veya telefon zaten kayÄ±tlÄ±" }
        }
      }
    },
    "/auth/verify-otp": {
      "post": {
        "tags": ["Auth"],
        "summary": "OTP doÄŸrula",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "otp"],
                "properties": {
                  "email": { "type": "string" },
                  "otp": { "type": "string", "example": "123456" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "DoÄŸrulama baÅŸarÄ±lÄ±, token dÃ¶ner" },
          "400": { "description": "GeÃ§ersiz veya sÃ¼resi dolmuÅŸ OTP" }
        }
      }
    },
    "/auth/login": {
      "post": {
        "tags": ["Auth"],
        "summary": "GiriÅŸ yap",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["email", "password"],
                "properties": {
                  "email": { "type": "string", "example": "ahmet@test.com" },
                  "password": { "type": "string", "example": "Test1234" }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "GiriÅŸ baÅŸarÄ±lÄ±, token dÃ¶ner" },
          "401": { "description": "HatalÄ± email veya ÅŸifre" }
        }
      }
    },
    "/auth/me": {
      "get": {
        "tags": ["Auth"],
        "summary": "Mevcut kullanÄ±cÄ± bilgisi",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": { "description": "KullanÄ±cÄ± bilgileri" },
          "401": { "description": "Token geÃ§ersiz" }
        }
      }
    },
    "/waste/types": {
      "get": {
        "tags": ["Waste"],
        "summary": "AtÄ±k tÃ¼rlerini listele",
        "description": "TÃ¼m atÄ±k tÃ¼rlerini getirir (Public)",
        "responses": {
          "200": {
            "description": "AtÄ±k tÃ¼rleri listesi",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "success": { "type": "boolean" },
                    "count": { "type": "integer" },
                    "data": {
                      "type": "array",
                      "items": { "$ref": "#/components/schemas/WasteType" }
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/waste": {
      "get": {
        "tags": ["Waste"],
        "summary": "Aktif atÄ±klarÄ± listele (VIEW kullanÄ±r)",
        "description": "v_active_waste_details VIEW'Ä±nÄ± kullanarak aktif atÄ±klarÄ± listeler",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "city", "in": "query", "schema": { "type": "string" }, "description": "Åžehre gÃ¶re filtrele" },
          { "name": "type_id", "in": "query", "schema": { "type": "integer" }, "description": "AtÄ±k tÃ¼rÃ¼ne gÃ¶re filtrele" },
          { "name": "status", "in": "query", "schema": { "type": "string" }, "description": "Duruma gÃ¶re filtrele" }
        ],
        "responses": {
          "200": { "description": "AtÄ±k listesi" }
        }
      },
      "post": {
        "tags": ["Waste"],
        "summary": "Yeni atÄ±k ekle (INSERT)",
        "description": "CHECK constraint test edilebilir: amount > 0 AND amount <= 1000",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["type_id", "amount"],
                "properties": {
                  "type_id": { "type": "integer", "example": 1 },
                  "amount": { "type": "number", "example": 5.5, "minimum": 0.01, "maximum": 1000 },
                  "description": { "type": "string", "example": "Temiz karton kutular" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "AtÄ±k eklendi" },
          "400": { "description": "CHECK constraint ihlali" }
        }
      }
    },
    "/waste/search": {
      "get": {
        "tags": ["Waste"],
        "summary": "Åžehre gÃ¶re ara (FUNCTION kullanÄ±r)",
        "description": "fn_get_waste_by_city() PostgreSQL fonksiyonunu kullanÄ±r. INDEX (idx_users_city) Ã¼zerinden arama yapar.",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "city", "in": "query", "required": true, "schema": { "type": "string" }, "example": "Ä°stanbul" }
        ],
        "responses": {
          "200": { "description": "Arama sonuÃ§larÄ±" }
        }
      }
    },
    "/waste/my": {
      "get": {
        "tags": ["Waste"],
        "summary": "Kendi atÄ±klarÄ±m",
        "security": [{ "bearerAuth": [] }],
        "responses": {
          "200": { "description": "KullanÄ±cÄ±nÄ±n atÄ±klarÄ±" }
        }
      }
    },
    "/waste/{id}": {
      "get": {
        "tags": ["Waste"],
        "summary": "AtÄ±k detayÄ±",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "AtÄ±k detayÄ±" },
          "404": { "description": "BulunamadÄ±" }
        }
      },
      "put": {
        "tags": ["Waste"],
        "summary": "AtÄ±k gÃ¼ncelle (UPDATE + TRIGGER)",
        "description": "Status 'collected' olursa TRIGGER Ã§alÄ±ÅŸÄ±r ve Ã§evresel puan hesaplanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type_id": { "type": "integer" },
                  "amount": { "type": "number" },
                  "description": { "type": "string" },
                  "status": { "type": "string", "enum": ["waiting", "reserved", "collected", "cancelled"] }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "GÃ¼ncellendi. triggerMessage alanÄ±nda TRIGGER mesajÄ± dÃ¶ner" }
        }
      },
      "delete": {
        "tags": ["Waste"],
        "summary": "AtÄ±k sil (DELETE + CASCADE)",
        "description": "ON DELETE CASCADE: Ä°lgili rezervasyonlar da silinir",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Silindi" }
        }
      }
    },
    "/reservations": {
      "get": {
        "tags": ["Reservations"],
        "summary": "RezervasyonlarÄ± listele",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "status", "in": "query", "schema": { "type": "string" } },
          { "name": "waste_id", "in": "query", "schema": { "type": "integer" } }
        ],
        "responses": {
          "200": { "description": "Rezervasyon listesi" }
        }
      },
      "post": {
        "tags": ["Reservations"],
        "summary": "Rezervasyon oluÅŸtur (SEQUENCE + TRIGGER)",
        "description": "reservation_number_seq SEQUENCE'Ä±nÄ± kullanÄ±r. TRIGGER otomatik olarak atÄ±k durumunu 'reserved' yapar.",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["waste_id", "pickup_datetime"],
                "properties": {
                  "waste_id": { "type": "integer", "example": 1 },
                  "pickup_datetime": { "type": "string", "format": "date-time", "example": "2026-01-10T14:00:00" }
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Rezervasyon oluÅŸturuldu. reservationNumber ve triggerMessage dÃ¶ner" }
        }
      }
    },
    "/reservations/my/collector": {
      "get": {
        "tags": ["Reservations"],
        "summary": "ToplayÄ±cÄ± olarak rezervasyonlarÄ±m",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Rezervasyonlar" } }
      }
    },
    "/reservations/my/owner": {
      "get": {
        "tags": ["Reservations"],
        "summary": "AtÄ±klarÄ±ma yapÄ±lan rezervasyonlar",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Rezervasyonlar" } }
      }
    },
    "/reservations/{id}": {
      "get": {
        "tags": ["Reservations"],
        "summary": "Rezervasyon detayÄ±",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": { "200": { "description": "Detay" } }
      },
      "put": {
        "tags": ["Reservations"],
        "summary": "Rezervasyon gÃ¼ncelle (TRIGGER)",
        "description": "Status deÄŸiÅŸtiÄŸinde TRIGGER Ã§alÄ±ÅŸÄ±r: collectedâ†’atÄ±k toplandÄ±, cancelledâ†’atÄ±k tekrar listelenir",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "status": { "type": "string", "enum": ["waiting", "reserved", "collected", "cancelled"] },
                  "pickup_datetime": { "type": "string", "format": "date-time" }
                }
              }
            }
          }
        },
        "responses": { "200": { "description": "GÃ¼ncellendi. triggerMessage dÃ¶ner" } }
      },
      "delete": {
        "tags": ["Reservations"],
        "summary": "Rezervasyon sil",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": { "200": { "description": "Silindi" } }
      }
    },
    "/reports/my": {
      "get": {
        "tags": ["Reports"],
        "summary": "KiÅŸisel Ã§evresel etki raporum",
        "description": "KullanÄ±cÄ±nÄ±n istatistikleri, puanÄ± ve aylÄ±k raporu (FUNCTION + VIEW kullanÄ±r)",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "KiÅŸisel rapor" } }
      }
    },
    "/reports/user/{userId}/monthly": {
      "get": {
        "tags": ["Reports"],
        "summary": "KullanÄ±cÄ± aylÄ±k raporu (CURSOR + RECORD)",
        "description": "fn_get_user_monthly_report() fonksiyonu kullanÄ±r. CURSOR ve RECORD tanÄ±mÄ± iÃ§erir.",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "userId", "in": "path", "required": true, "schema": { "type": "integer" } },
          { "name": "year", "in": "query", "schema": { "type": "integer" }, "example": 2026 },
          { "name": "month", "in": "query", "schema": { "type": "integer" }, "example": 1 }
        ],
        "responses": { "200": { "description": "AylÄ±k rapor" } }
      }
    },
    "/reports/user/{userId}/score": {
      "get": {
        "tags": ["Reports"],
        "summary": "KullanÄ±cÄ± toplam puanÄ± (FUNCTION)",
        "description": "fn_calculate_user_total_score() fonksiyonu kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "userId", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": { "200": { "description": "Toplam puan" } }
      }
    },
    "/reports/active-users": {
      "get": {
        "tags": ["Reports"],
        "summary": "Aktif kullanÄ±cÄ±lar (UNION sorgusu)",
        "description": "Hem atÄ±k paylaÅŸan hem de toplayan kullanÄ±cÄ±lar. UNION sorgusu kullanÄ±r.",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Aktif kullanÄ±cÄ±lar listesi" } }
      }
    },
    "/reports/inactive-collectors": {
      "get": {
        "tags": ["Reports"],
        "summary": "HiÃ§ rezervasyon yapmamÄ±ÅŸlar (EXCEPT sorgusu)",
        "description": "EXCEPT sorgusu kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Pasif kullanÄ±cÄ±lar" } }
      }
    },
    "/reports/top-contributors": {
      "get": {
        "tags": ["Reports"],
        "summary": "En Ã§ok katkÄ± yapanlar (AGGREGATE + HAVING)",
        "description": "COUNT, SUM, AVG, MAX + HAVING kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "minWasteCount", "in": "query", "schema": { "type": "integer" }, "description": "Minimum atÄ±k sayÄ±sÄ±", "example": 2 }
        ],
        "responses": { "200": { "description": "En Ã§ok katkÄ± yapanlar" } }
      }
    },
    "/reports/waste-statistics": {
      "get": {
        "tags": ["Reports"],
        "summary": "AtÄ±k istatistikleri (AGGREGATE)",
        "description": "COUNT, SUM, AVG, MIN, MAX, CASE WHEN kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Ä°statistikler" } }
      }
    },
    "/reports/monthly-overview": {
      "get": {
        "tags": ["Reports"],
        "summary": "AylÄ±k genel bakÄ±ÅŸ (VIEW)",
        "description": "v_monthly_recycling_report VIEW'Ä±nÄ± kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "year", "in": "query", "schema": { "type": "integer" }, "example": 2026 }
        ],
        "responses": { "200": { "description": "AylÄ±k rapor" } }
      }
    },
    "/reports/user-statistics": {
      "get": {
        "tags": ["Reports"],
        "summary": "KullanÄ±cÄ± istatistikleri (VIEW)",
        "description": "v_user_statistics VIEW'Ä±nÄ± kullanÄ±r",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Ä°statistikler" } }
      }
    },
    "/reports/city-ranking": {
      "get": {
        "tags": ["Reports"],
        "summary": "Åžehir sÄ±ralamasÄ± (AGGREGATE + HAVING)",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "minUsers", "in": "query", "schema": { "type": "integer" } }
        ],
        "responses": { "200": { "description": "Åžehir sÄ±ralamasÄ±" } }
      }
    },
    "/admin/dashboard": {
      "get": {
        "tags": ["Admin"],
        "summary": "Admin dashboard",
        "description": "Sadece admin rolÃ¼ eriÅŸebilir",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "Dashboard verileri" }, "403": { "description": "Yetki yok" } }
      }
    },
    "/admin/users": {
      "get": {
        "tags": ["Admin"],
        "summary": "TÃ¼m kullanÄ±cÄ±larÄ± listele",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "role", "in": "query", "schema": { "type": "string" } },
          { "name": "city", "in": "query", "schema": { "type": "string" } },
          { "name": "is_active", "in": "query", "schema": { "type": "boolean" } }
        ],
        "responses": { "200": { "description": "KullanÄ±cÄ± listesi" } }
      }
    },
    "/admin/users/{id}/role": {
      "put": {
        "tags": ["Admin"],
        "summary": "KullanÄ±cÄ± rolÃ¼nÃ¼ deÄŸiÅŸtir",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "role": { "type": "string", "enum": ["admin", "user"] }
                }
              }
            }
          }
        },
        "responses": { "200": { "description": "Rol gÃ¼ncellendi" } }
      }
    },
    "/admin/users/{id}/status": {
      "put": {
        "tags": ["Admin"],
        "summary": "KullanÄ±cÄ± aktifliÄŸini deÄŸiÅŸtir",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "is_active": { "type": "boolean" }
                }
              }
            }
          }
        },
        "responses": { "200": { "description": "Durum gÃ¼ncellendi" } }
      }
    },
    "/admin/users/{id}": {
      "delete": {
        "tags": ["Admin"],
        "summary": "KullanÄ±cÄ± sil (CASCADE)",
        "description": "ON DELETE CASCADE: KullanÄ±cÄ±nÄ±n atÄ±klarÄ± ve rezervasyonlarÄ± da silinir",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": { "200": { "description": "Silindi" } }
      }
    },
    "/admin/waste-types": {
      "get": {
        "tags": ["Admin"],
        "summary": "AtÄ±k tÃ¼rlerini listele (kullanÄ±m sayÄ±sÄ±yla)",
        "security": [{ "bearerAuth": [] }],
        "responses": { "200": { "description": "AtÄ±k tÃ¼rleri" } }
      },
      "post": {
        "tags": ["Admin"],
        "summary": "Yeni atÄ±k tÃ¼rÃ¼ ekle",
        "description": "CHECK constraint: recycle_score 0-100 arasÄ±",
        "security": [{ "bearerAuth": [] }],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["type_name", "official_unit", "recycle_score"],
                "properties": {
                  "type_name": { "type": "string", "example": "Yeni TÃ¼r" },
                  "official_unit": { "type": "string", "example": "kg" },
                  "recycle_score": { "type": "integer", "minimum": 0, "maximum": 100, "example": 15 }
                }
              }
            }
          }
        },
        "responses": { "201": { "description": "Eklendi" } }
      }
    },
    "/admin/waste-types/{id}": {
      "put": {
        "tags": ["Admin"],
        "summary": "AtÄ±k tÃ¼rÃ¼ gÃ¼ncelle",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "type_name": { "type": "string" },
                  "official_unit": { "type": "string" },
                  "recycle_score": { "type": "integer" }
                }
              }
            }
          }
        },
        "responses": { "200": { "description": "GÃ¼ncellendi" } }
      },
      "delete": {
        "tags": ["Admin"],
        "summary": "AtÄ±k tÃ¼rÃ¼ sil (RESTRICT)",
        "description": "ON DELETE RESTRICT: KullanÄ±mda olan tÃ¼r silinemez",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "id", "in": "path", "required": true, "schema": { "type": "integer" } }
        ],
        "responses": { 
          "200": { "description": "Silindi" },
          "400": { "description": "RESTRICT: TÃ¼r kullanÄ±mda, silinemez" }
        }
      }
    },
    "/admin/trigger-logs": {
      "get": {
        "tags": ["Admin"],
        "summary": "Trigger loglarÄ±",
        "description": "TRIGGER'larÄ±n Ã§alÄ±ÅŸma kayÄ±tlarÄ±",
        "security": [{ "bearerAuth": [] }],
        "parameters": [
          { "name": "limit", "in": "query", "schema": { "type": "integer" }, "example": 50 }
        ],
        "responses": { "200": { "description": "Log listesi" } }
      }
    }
  }
}
